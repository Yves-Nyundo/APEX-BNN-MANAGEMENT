{% extends "base.html" %}
{% block title %}Company Settings{% endblock %}

{% block content %}
<div class="p-6 max-w-3xl mx-auto bg-white rounded-lg shadow-md mt-8">
  <h1 class="text-2xl font-bold mb-6 text-gray-800">Company Settings</h1>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% for category, message in messages %}
      <div class="p-3 mb-4 text-sm rounded-md
        {% if category == 'success' %}bg-green-100 text-green-800
        {% elif category == 'error' %}bg-red-100 text-red-800
        {% else %}bg-blue-100 text-blue-800{% endif %}">
        {{ message }}
      </div>
    {% endfor %}
  {% endwith %}

  <form method="POST" class="space-y-6">
    <!-- Company Name -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Company Name *</label>
      <input type="text"
             name="company_name"
             value="{{ settings.company_name }}"
             class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"
             required>
    </div>

    <!-- Company ID -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Company ID *</label>
      <input type="text"
             name="company_id"
             value="{{ settings.company_id }}"
             class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"
             required>
    </div>

    <!-- Contact Info (Optional) -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
        <input type="text"
               name="phone"
               value="{{ settings.phone or '' }}"
               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
        <input type="email"
               name="email"
               value="{{ settings.email or '' }}"
               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
      </div>
    </div>

    <!-- Signature Person -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Signing Person Name</label>
        <input type="text"
               name="signing_person_name"
               value="{{ settings.signing_person_name or '' }}"
               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Function/Title</label>
        <input type="text"
               name="signing_person_function"
               value="{{ settings.signing_person_function or '' }}"
               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
      </div>
    </div>

    <!-- Submit Button -->
    <div class="flex gap-3 pt-4">
      <button type="submit" class="bg-purple-600 text-white px-5 py-2 rounded-md hover:bg-purple-700">Save Settings</button>
      <a href="{{ url_for('dashboard') }}" class="bg-gray-300 text-gray-800 px-5 py-2 rounded-md hover:bg-gray-400">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}